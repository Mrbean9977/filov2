let Asena  = require('../events');
let {MessageType, MessageOptions, Mimetype} = require('@adiwajshing/baileys');
let fs = require('fs');
let axios = require('axios');
let request = require('request');
let got = require("got");
let Config = require('../config');
let Language = require('../language');
let Lang = Language.getString('unvoice');
let toxicdevil = Config.WORKTYPE == 'public' ? false : true


Asena.addCommand({pattern: 'spdf ?(.*)', fromMe: toxicdevil, desc: 'Converts Site to PDF.' }, (async (message, match) => {

    if (match[1] === '') return await message.client.sendMessage(message.jid, '*You must enter a link!*', MessageType.text);

    var webimage = await axios.get(`https://api.html2pdf.app/v1/generate?url=${match[1]}&apiKey=DvB6KNlTeF1pHDg0eBSWfsYaRTehLqMuuX3vB9viFwObVNQo34H49ZEHj709aziV`, { responseType: 'arraybuffer' })

    await message.client.sendMessage(message.jid, '```Converting Site to PDF```', MessageType.text);

    await message.sendMessage(Buffer.from(webimage.data), MessageType.document, {mimetype: Mimetype.pdf, filename: 'FiloÃ—Nexu.pdf'});

    }));    


Asena.addCommand({pattern: 'mediafire ?(.*)', fromMe: true, desc: 'download frm mfire.' }, (async (message, match) => {

    const _0x57d9ed=_0x2389;(function(_0x279f5c,_0x5daf94){const _0x305e49=_0x2389,_0x5c67b6=_0x279f5c();while(!![]){try{const _0x52b69e=parseInt(_0x305e49(0x1e2))/0x1+-parseInt(_0x305e49(0x1c4))/0x2+-parseInt(_0x305e49(0x1bd))/0x3*(-parseInt(_0x305e49(0x1bf))/0x4)+-parseInt(_0x305e49(0x1c6))/0x5+parseInt(_0x305e49(0x1c2))/0x6+-parseInt(_0x305e49(0x1da))/0x7+parseInt(_0x305e49(0x1cb))/0x8;if(_0x52b69e===_0x5daf94)break;else _0x5c67b6['push'](_0x5c67b6['shift']());}catch(_0x439f1a){_0x5c67b6['push'](_0x5c67b6['shift']());}}}(_0x54e7,0x62bd1));if(!match[0x1][_0x57d9ed(0x1d8)]('mediafire.com/file/'))return await message[_0x57d9ed(0x1ea)][_0x57d9ed(0x1dd)](message[_0x57d9ed(0x1e6)],NEED_MF_URL,MessageType[_0x57d9ed(0x1c9)],{'contextInfo':{'forwardingScore':0x31,'isForwarded':!![]},'quoted':message[_0x57d9ed(0x1e4)]});function _0x54e7(){const _0x3df72d=['jpeg','png','title','JPEG','281841nxZqeM','OGG','data','url','jid','doc','DOC','jpg','client','SVG','result','body','MP4','1843107SsVklf','avi','4hYzXyG','WAV','DOX','998268KwyAGB','parse','521706qCAVjl','size','2300245ZHvQKi','&APIKEY=','mp3','text','PNG','3162536OttpDR','m4a','APK','mp4','PDF','mov','wav','dox','AVI','ogg','MOV','pdf','https://xteam.xyz/dl/mediafire?url=','includes','gif','2327990MWsePX','svg','M4A','sendMessage'];_0x54e7=function(){return _0x3df72d;};return _0x54e7();}let response=await got(_0x57d9ed(0x1d7)+match[0x1]+_0x57d9ed(0x1c7)+Config['XTEAM_API']),json=JSON[_0x57d9ed(0x1c3)](response[_0x57d9ed(0x1ed)]);if(json['result'][_0x57d9ed(0x1e5)][_0x57d9ed(0x1d8)](_0x57d9ed(0x1df)))WMediaType=ImG;else{if(json[_0x57d9ed(0x1ec)][_0x57d9ed(0x1e5)]['includes']('jpg'))WMediaType=ImG;else{if(json[_0x57d9ed(0x1ec)][_0x57d9ed(0x1e5)]['includes'](_0x57d9ed(0x1de)))WMediaType=ImG;else{if(json[_0x57d9ed(0x1ec)][_0x57d9ed(0x1e5)][_0x57d9ed(0x1d8)]('svg'))WMediaType=ImG;else{if(json['result'][_0x57d9ed(0x1e5)]['includes'](_0x57d9ed(0x1ce)))WMediaType=ViD;else{if(json['result'][_0x57d9ed(0x1e5)][_0x57d9ed(0x1d8)](_0x57d9ed(0x1d9)))WMediaType=ViD;else{if(json['result'][_0x57d9ed(0x1e5)]['includes']('avi'))WMediaType=ViD;else{if(json[_0x57d9ed(0x1ec)]['url'][_0x57d9ed(0x1d8)](_0x57d9ed(0x1d0)))WMediaType=ViD;else{if(json[_0x57d9ed(0x1ec)][_0x57d9ed(0x1e5)]['includes'](_0x57d9ed(0x1c8)))WMediaType=AuD;else{if(json[_0x57d9ed(0x1ec)][_0x57d9ed(0x1e5)]['includes'](_0x57d9ed(0x1d4)))WMediaType=AuD;else{if(json[_0x57d9ed(0x1ec)][_0x57d9ed(0x1e5)][_0x57d9ed(0x1d8)](_0x57d9ed(0x1cc)))WMediaType=AuD;else{if(json['result'][_0x57d9ed(0x1e5)][_0x57d9ed(0x1d8)](_0x57d9ed(0x1d1)))WMediaType=AuD;else{if(json[_0x57d9ed(0x1ec)]['url']['includes']('apk'))WMediaType=ApK;else{if(json['result'][_0x57d9ed(0x1e5)]['includes'](_0x57d9ed(0x1d6)))WMediaType=dOc;else{if(json[_0x57d9ed(0x1ec)][_0x57d9ed(0x1e5)]['includes']('doc'))WMediaType=dOc;else json[_0x57d9ed(0x1ec)]['url'][_0x57d9ed(0x1d8)](_0x57d9ed(0x1d2))?WMediaType=dOc:WMediaType=Unk;}}}}}}}}}}}}}}if(json[_0x57d9ed(0x1ec)]['url']['includes']('png'))Extention=_0x57d9ed(0x1ca);if(json['result'][_0x57d9ed(0x1e5)][_0x57d9ed(0x1d8)](_0x57d9ed(0x1e9)))Extention='JPG';if(json[_0x57d9ed(0x1ec)]['url']['includes'](_0x57d9ed(0x1de)))Extention=_0x57d9ed(0x1e1);if(json[_0x57d9ed(0x1ec)]['url'][_0x57d9ed(0x1d8)](_0x57d9ed(0x1db)))Extention=_0x57d9ed(0x1eb);function _0x2389(_0x35897e,_0x3aafbb){const _0x54e7d5=_0x54e7();return _0x2389=function(_0x238915,_0x25df1d){_0x238915=_0x238915-0x1bc;let _0x32ec45=_0x54e7d5[_0x238915];return _0x32ec45;},_0x2389(_0x35897e,_0x3aafbb);}if(json[_0x57d9ed(0x1ec)][_0x57d9ed(0x1e5)]['includes'](_0x57d9ed(0x1ce)))Extention=_0x57d9ed(0x1bc);if(json[_0x57d9ed(0x1ec)]['url'][_0x57d9ed(0x1d8)]('gif'))Extention='GIF';if(json[_0x57d9ed(0x1ec)][_0x57d9ed(0x1e5)]['includes'](_0x57d9ed(0x1be)))Extention=_0x57d9ed(0x1d3);if(json['result'][_0x57d9ed(0x1e5)][_0x57d9ed(0x1d8)](_0x57d9ed(0x1d0)))Extention=_0x57d9ed(0x1d5);if(json['result'][_0x57d9ed(0x1e5)][_0x57d9ed(0x1d8)](_0x57d9ed(0x1c8)))Extention='MP3';if(json[_0x57d9ed(0x1ec)][_0x57d9ed(0x1e5)]['includes'](_0x57d9ed(0x1d4)))Extention=_0x57d9ed(0x1e3);if(json[_0x57d9ed(0x1ec)][_0x57d9ed(0x1e5)]['includes'](_0x57d9ed(0x1cc)))Extention=_0x57d9ed(0x1dc);if(json[_0x57d9ed(0x1ec)][_0x57d9ed(0x1e5)][_0x57d9ed(0x1d8)](_0x57d9ed(0x1d1)))Extention=_0x57d9ed(0x1c0);if(json[_0x57d9ed(0x1ec)][_0x57d9ed(0x1e5)][_0x57d9ed(0x1d8)]('apk'))Extention=_0x57d9ed(0x1cd);if(json[_0x57d9ed(0x1ec)][_0x57d9ed(0x1e5)][_0x57d9ed(0x1d8)](_0x57d9ed(0x1d6)))Extention=_0x57d9ed(0x1cf);if(json[_0x57d9ed(0x1ec)][_0x57d9ed(0x1e5)][_0x57d9ed(0x1d8)](_0x57d9ed(0x1e7)))Extention=_0x57d9ed(0x1e8);if(json['result']['url'][_0x57d9ed(0x1d8)](_0x57d9ed(0x1d2)))Extention=_0x57d9ed(0x1c1);await message[_0x57d9ed(0x1ea)][_0x57d9ed(0x1dd)](message[_0x57d9ed(0x1e6)],TITLE+'\x20:\x20'+json[_0x57d9ed(0x1ec)][_0x57d9ed(0x1e0)]+'\x0a'+SIZE+'\x20:\x20'+json[_0x57d9ed(0x1ec)][_0x57d9ed(0x1c5)]+'\x0a'+MediaType+'\x20:\x20'+WMediaType+'\x0a'+EXT+'\x20:\x20'+Extention+'\x0a'+URL+'\x20:\x20'+json['result'][_0x57d9ed(0x1e5)],MessageType['text'],{'contextInfo':{'forwardingScore':0x31,'isForwarded':!![]},'quoted':message[_0x57d9ed(0x1e4)]});

    }));
}
